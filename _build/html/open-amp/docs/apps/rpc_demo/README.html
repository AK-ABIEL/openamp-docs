<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>rpc_demo &mdash; OpenAMP  documentation</title>
      <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/css/mystyle.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/graphviz.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
        <script src="../../../../_static/jquery.js"></script>
        <script src="../../../../_static/underscore.js"></script>
        <script src="../../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../../../_static/doctools.js"></script>
        <script src="../../../../_static/sphinx_highlight.js"></script>
    <script src="../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../../../index.html" class="icon icon-home"> OpenAMP
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../openamp/index.html">OpenAMP Project</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../protocol_details/index.html">OpenAMP Protocol Details</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../docs/index.html">OpenAMP API</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">OpenAMP</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>rpc_demo</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../../_sources/open-amp/docs/apps/rpc_demo/README.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="rpc-demo">
<h1>rpc_demo<a class="headerlink" href="#rpc-demo" title="Permalink to this heading"></a></h1>
<p>This readme is about the OpenAMP rpc_demo demo.
The rpc_demo is about one processor uses the UART on the other processor and create file on the other processor’s filesystem with file operations.</p>
<p>For now, It implements the processor running generic(baremetal) application access the devices on the Linux.</p>
<section id="compilation">
<h2>Compilation<a class="headerlink" href="#compilation" title="Permalink to this heading"></a></h2>
<section id="baremetal-compilation">
<h3>Baremetal Compilation<a class="headerlink" href="#baremetal-compilation" title="Permalink to this heading"></a></h3>
<p>Option <code class="docutils literal notranslate"><span class="pre">WITH_RPC_DEMO</span></code> is to control if the application will be built.
By default this option is <code class="docutils literal notranslate"><span class="pre">ON</span></code> when <code class="docutils literal notranslate"><span class="pre">WITH_APPS</span></code> is on.</p>
<p>Here is an example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ cmake ../open-amp -DCMAKE_TOOLCHAIN_FILE=zynq7_generic -DWITH_OBSOLETE=on -DWITH_APPS=ON
</pre></div>
</div>
</section>
<section id="linux-compilation">
<h3>Linux Compilation<a class="headerlink" href="#linux-compilation" title="Permalink to this heading"></a></h3>
<section id="linux-kernel-compilation">
<h4>Linux Kernel Compilation<a class="headerlink" href="#linux-kernel-compilation" title="Permalink to this heading"></a></h4>
<p>You will need to manually compile the following kernel modules with your Linux kernel (Please refer to Linux kernel documents for how to add kernel module):</p>
<ul class="simple">
<li><p>Your machine’s remoteproc kernel driver</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">obsolete/apps/rpc_demo/system/linux/kernelspace/rpmsg_proxy_dev_driver</span></code></p></li>
</ul>
</section>
<section id="linux-userspace-compliation">
<h4>Linux Userspace Compliation<a class="headerlink" href="#linux-userspace-compliation" title="Permalink to this heading"></a></h4>
<ul class="simple">
<li><p>Compile <code class="docutils literal notranslate"><span class="pre">obsolete/apps/rpc_demo/system/linux/userspace/proxy_app</span></code> into your Linux OS.</p></li>
<li><p>Add the built generic <code class="docutils literal notranslate"><span class="pre">rpc_demo</span></code> executable to the firmware of your Linux OS.</p></li>
</ul>
</section>
</section>
</section>
<section id="run-the-demo">
<h2>Run the Demo<a class="headerlink" href="#run-the-demo" title="Permalink to this heading"></a></h2>
<p>After Linux boots, run <code class="docutils literal notranslate"><span class="pre">proxy_app</span></code> as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># proxy_app [-m REMOTEPROC_MODULE] [-f PATH_OF_THE_RPC_DEMO_FIRMWARE]</span>
</pre></div>
</div>
<p>The demo application will load the remoteproc module, then the proxy rpmsg module, will output message sent from the other processor, send the console input back to the other processor. When the demo application exits, it will unload the kernel modules.</p>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, OpenAMP Project.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>